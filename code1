import random
import time
import math

def эффект_печати(текст):
    for символ in текст:
        print(символ, end='', flush=True)
        time.sleep(0.05)
    print()

def приветственное_сообщение():
    эффект_печати("Добро пожаловать в игру 'Юный Экономист' !")
    эффект_печати("В этой игре вы будете инвестировать в различные компании и видеть, как растут или сокращаются ваши инвестиции.")
    эффект_печати("Игра основанна на теории вероятности, а спустя несколько раундов вы станете 'опытным инвестором'.")
    эффект_печати('После первого раунда Вам будет доступна дополнительная функция "Кредит". ')
    эффект_печати("Начнем!")


def начать_игру():
    эффект_печати("Игра начинается...")
    print('')
    time.sleep(1)

def выбрать_компанию(компании):
    случайное_число = random.randint(1, 8)
    компания = компании[случайное_число]
    return компания

def спросить_инвестицию(компания):
    инвестиция = int(input(f"Какую сумму вы хотите инвестировать в {компания}? "))
    return инвестиция

def рассчитать_прибыль(инвестиция, рост):
    if рост:
        множитель = random.uniform(1, 1.9)
        прибыль1 = инвестиция * множитель
        прибыль = инвестиция - прибыль1
    else:
        множитель = random.uniform(0.1, 0.9)
        прибыль1 = инвестиция * множитель
        прибыль = инвестиция - прибыль1
    округленная_прибыль = math.ceil(прибыль * 100) / 100
    return округленная_прибыль

def вычислить_настоящую_прибыль(инвестиция, рост):
    if рост:
        процент = random.uniform(1, 1.9)
    else:
        процент = random.uniform(1.1, 0.9)
    настоящая_прибыль = инвестиция * процент
    округленная_настоящая_прибыль = round(настоящая_прибыль, 2)
    if рост:
        окр_наст_прибыль = round(инвестиция + округленная_настоящая_прибыль)
    else:
        окр_наст_прибыль = round(инвестиция - округленная_настоящая_прибыль)
    return окр_наст_прибыль, округленная_настоящая_прибыль

def играть():
    компании = ["'Алибаба'", "'Бобруйский зефир'", "'Винодельня'", "'Грузинская простыня'", "'ДомСтрой'",
                "'ЕвроРемонт'", "'Жора и семья'", "'Зеркальное Царство'", "'СИголочки'", "'Комания Z'"]
    начать_игру()
    сумма_прибылей = 0
    for _ in range(3):
        компания = выбрать_компанию(компании)
        инвестиция = спросить_инвестицию(компания)
        рост = random.choice([True, False])
        if рост:
            эффект_печати(f"Стоимость {компания} ВЫРОСЛА!")
        else:
            эффект_печати(f"Стоимость {компания} УПАЛА!")
        time.sleep(1)
        результат = рассчитать_прибыль(инвестиция, рост)
        настоящая_прибыль = вычислить_настоящую_прибыль(инвестиция, рост)
        сумма_прибылей += результат
        эффект_печати("Рассчитываем вашу прибыль...")
        time.sleep(1)
        if рост:
            эффект_печати(f"Вы инвестировали {инвестиция} рублей в {компания}.")
            эффект_печати(f"Вы получили {настоящая_прибыль} рублей прибыли.")
            print('Первое число общая стоимость акции, второе - модуль изменения акции ')
            print('')
        else:
            эффект_печати(f"Вы инвестировали {инвестиция} рублей в {компания}.")
            эффект_печати(f"Вы ушли в минус на {настоящая_прибыль} рублей.")
            print('Первое число - на сколько уменьшилась цена акции, второе - модуль цены акции ')
            print('')
    округленная_сумма_прибылей = math.ceil(сумма_прибылей * 100) / 100
    if округленная_сумма_прибылей >= 0:
        эффект_печати(f"Сумма всех трех прибылей: {округленная_сумма_прибылей} рублей.")
    else:
        эффект_печати(f"Сумма всех трех прибылей: {abs(округленная_сумма_прибылей)} рублей.")
    эффект_печати("Спасибо за игру!")

def take_loan():
    loan_amount = float(input("Введите сумму кредита: "))
    interest_rate = float(input("Введите процентную ставку (только целое число): "))
    investment_result = 1234
    loan_payment = loan_amount * (1 + interest_rate)
    investment_result -= loan_payment
    print("Результат инвестиции с учетом выплаты кредита:", investment_result)

def главная():
    приветственное_сообщение()
    играть()
    играть_снова = input("Нажмите ENTER, чтобы сыграть снова, или введите 'выход', чтобы выйти: ")
    while True:
        if играть_снова == "":
            играть()
            играть_снова = input("Нажмите ENTER, чтобы сыграть снова, или введите 'выход', чтобы выйти: ")
        elif играть_снова == "выход":
            break
        else:
            играть_снова = input("Неверный ввод. Нажмите ENTER, чтобы сыграть снова, или введите 'выход', чтобы выйти: ")

главная()
